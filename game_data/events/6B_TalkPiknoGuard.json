[
    {
        "name": "TalkPiknoGuard",
        "trigger": "on_talk",
        "level_nid": "6B",
        "condition": "unit2.nid == 'Pikno' or unit2.nid == 'Guard'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;game.check_alive('Pikno')",
            "multi_add_portrait;SoldierPurple;FarRight;Pikno;MidRight;Sages;Left",
            "else",
            "multi_add_portrait;SoldierPurple;Right;Sages;Left",
            "end",
            "if;game.check_alive('Pikno')",
            "speak;Pikno;Good day, Lord Sages.",
            "end",
            "speak;SoldierPurple;Welcome back, Lord Sages.",
            "speak;Sages;Thank you both, someone in the holding cell?",
            "speak;SoldierPurple;Some foolish mercenary.",
            "speak;Sages;What did he do?",
            "if;game.check_alive('Pikno')",
            "speak;Pikno;Public nuisance, attempted robbery.",
            "else",
            "speak;SoldierPurple;Distrubing the peace, attempted robbery.",
            "end",
            "speak;Sages;Huh...",
            "speak;SoldierPurple;He's a troublemaker alright.|Claims we're \"obsessed with him\", and that we're \"haters\".",
            "speak;Sages;Sounds like a fun person to me!",
            "speak;SoldierPurple;Uh, no, he isn't.",
            "speak;Sages;Hang on, I want to see him!",
            "if;game.check_alive('Pikno')",
            "speak;Pikno;I advise against this, Lord Sages.",
            "else",
            "speak;SoldierPurple;I must protest, Milord.",
            "end",
            "speak;Sages;This is an order!",
            "speak;SoldierPurple;Alright...",
            "multi_remove_portrait;SoldierPurple;Pikno;Sages",
            "show_layer;door",
            "sound;Unlock",
            "music;Strange People",
            "if;game.check_alive('Pikno')",
            "multi_add_portrait;SoldierPurple;FarRight;Pikno;MidRight;Boey;FarLeft",
            "add_portrait;Sages;80,Bottom",
            "else",
            "multi_add_portrait;SoldierPurple;FarRight;Sages;MidRight;Boey;Left",
            "end",
            "speak;Boey;Girl! I told you I didn't do anything!|It's not my fault!",
            "speak;SoldierPurple;Quiet! The prince wishes to speak to you.",
            "speak;Boey;Prince? Nah! I'm outta here!",
            "move_portrait;Boey;OffscreenRight;FLAG(no_block)",
            "move_unit;Boey;9,13;normal;giveup;FLAG(no_follow)",
            "if;game.check_alive('Pikno')",
            "speak;Pikno;Great. We gotta chase him now.",
            "else",
            "speak;SoldierPurple;After him!",
            "end",
            "speak;Sages;It's alright guys, I'll do it!",
            "multi_remove_portrait;SoldierPurple;Pikno;Sages;Boey",
            "change_roam_ai;Boey;BoeyEscape",
            "add_talk;Sages;Boey",
            "remove_talk;Sages;Guard",
            "remove_talk;Sages;Pikno",
            "music_fade_back"
        ]
    }
]